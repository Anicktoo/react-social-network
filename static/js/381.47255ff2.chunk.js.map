{"version":3,"file":"static/js/381.47255ff2.chunk.js","mappings":"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","sources":["redux/usersSelector.js","components/common/Paginator/Paginator.jsx","webpack://social-network-react/./src/components/common/Paginator/Paginator.module.css?6caa","webpack://social-network-react/./src/components/Users/Users.module.css?b9d0","webpack://social-network-react/./src/components/Users/Usertem/UserItem.module.css?0a20","components/Users/Usertem/UserItem.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","components/common/Preloader/Preloader.jsx","webpack://social-network-react/./src/components/common/Preloader/Preloader.module.css?08a1"],"sourcesContent":["import { createSelector } from \"@reduxjs/toolkit\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.users.users;\r\n};\r\n\r\n//first param is a selector to get users, second is a dependency to recount if changed (like useState)\r\nexport const getFollowedUsersSelector = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(user => user.followed);\r\n});\r\n\r\nexport const getPageSizeSelector = (state) => {\r\n    return state.users.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCountSelector = (state) => {\r\n    return state.users.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPageSelector = (state) => {\r\n    return state.users.currentPage;\r\n};\r\n\r\nexport const getIsFetchingSelector = (state) => {\r\n    return state.users.isFetching;\r\n};","import React, { useMemo } from 'react';\r\nimport { classNameFunction } from '../../../utils/classNameCompiler';\r\nimport s from \"./Paginator.module.css\";\r\n\r\nconst cName = classNameFunction(s);\r\n\r\nconst MAX_PAGES_IN_BAR = 11;\r\n\r\nconst getPagesBarUIInfo = (maxPagesInMenu, currentPage, totalUsersCount, pageSize) => {\r\n    const getStartEndIndexes = (maxNumbersOnPage, curPage, pagesCount) => {\r\n        if (pagesCount <= maxNumbersOnPage) {\r\n            return { startInd: 1, endInd: pagesCount };\r\n        }\r\n\r\n        const delta = Math.floor(maxNumbersOnPage / 2);\r\n        const pagesToFirst = curPage - 1;\r\n        const pagesToLast = pagesCount - curPage;\r\n\r\n        if (pagesToFirst <= delta) {\r\n            return { startInd: 1, endInd: maxNumbersOnPage };\r\n        }\r\n        if (pagesToLast <= delta) {\r\n            return { startInd: pagesCount - maxNumbersOnPage, endInd: pagesCount };\r\n        }\r\n\r\n        return { startInd: curPage - delta, endInd: curPage + delta };\r\n    }\r\n\r\n    const curPage = currentPage;\r\n    const pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n    let { startInd, endInd } = getStartEndIndexes(maxPagesInMenu, curPage, pagesCount);\r\n\r\n    const startGap = startInd !== 1;\r\n    const endGap = endInd !== pagesCount;\r\n\r\n    if (startGap) startInd += 2;\r\n    if (endGap) endInd -= 2;\r\n\r\n    const pages = [];\r\n    for (let i = startInd; i <= endInd; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return {\r\n        pagesCount,\r\n        pages,\r\n        startGap,\r\n        endGap\r\n    };\r\n};\r\n\r\nconst StartBarItem = ({ onPageChange }) => <>\r\n    <div className={cName(['page-item'])}\r\n        onClick={() => {\r\n            onPageChange(1)\r\n        }}>\r\n        1\r\n    </div>\r\n    <div className={cName(['page-item', 'blocked'])}>...</div>\r\n</>;\r\n\r\nconst EndBarItem = ({ onPageChange, pagesCount }) => <>\r\n    <div className={cName(['page-item', 'blocked'])}>...</div>\r\n    <div className={cName(['page-item'])}\r\n        onClick={() => {\r\n            onPageChange(pagesCount)\r\n        }}>\r\n        {pagesCount}\r\n    </div>\r\n</>;\r\n\r\nconst DefBarItems = ({ onPageChange, currentPage, pages }) => pages.map(el => {\r\n    const isCurrent = currentPage === el ? 'current-page' : '';\r\n    return (\r\n        <div className={cName(['page-item', isCurrent])}\r\n            onClick={() => {\r\n                onPageChange(el)\r\n            }}\r\n        >\r\n            {el}\r\n        </div>);\r\n});\r\n\r\nconst Paginator = ({ onPageChange, currentPage, totalUsersCount, pageSize }) => {\r\n\r\n    const { pagesCount, pages, startGap, endGap } = useMemo(() => getPagesBarUIInfo(MAX_PAGES_IN_BAR, currentPage, totalUsersCount, pageSize), [currentPage, totalUsersCount, pageSize]);\r\n\r\n    return (\r\n        <div className={cName(['page-container'])}>\r\n            {startGap && <StartBarItem onPageChange={onPageChange} />}\r\n            <DefBarItems onPageChange={onPageChange} currentPage={currentPage} pages={pages} />\r\n            {endGap && <EndBarItem onPageChange={onPageChange} pagesCount={pagesCount} />}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Paginator;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"page-container\":\"Paginator_page-container__qHGT5\",\"page-item\":\"Paginator_page-item__aJBA7\",\"blocked\":\"Paginator_blocked__Y-PjL\",\"current-page\":\"Paginator_current-page__vgrKG\"};","// extracted by mini-css-extract-plugin\nexport default {\"users\":\"Users_users__t9o+n\",\"usersContainer\":\"Users_usersContainer__Trm1s\",\"usersList\":\"Users_usersList__q+g8Q\",\"header\":\"Users_header__EAz0k\"};","// extracted by mini-css-extract-plugin\nexport default {\"userItem\":\"UserItem_userItem__HVEsT\",\"imgContainer\":\"UserItem_imgContainer__YrPw5\",\"infoContainer\":\"UserItem_infoContainer__NBrkg\",\"userName\":\"UserItem_userName__D2xvk\"};","import React from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport defaultAvatar from '../../../img/defaultUser.svg';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './UserItem.module.css';\r\n\r\nconst UserItem = ({ id, isFetching, photos, fullName, followed, status, name, isFollowingInProgress, follow, unfollow }) => {\r\n    const linkPath = '/profile/' + id;\r\n    return (\r\n        <div className={s.userItem}>\r\n            <div className={s.imgContainer}>\r\n                {isFetching ? <Preloader /> :\r\n                    <NavLink to={linkPath}>\r\n                        <img src={photos.small != null ? photos.small : defaultAvatar}\r\n                            alt={fullName + \"'s avatar\"} />\r\n                    </NavLink>\r\n                }\r\n            </div>\r\n            <div className={s.infoContainer}>\r\n                {isFetching ?\r\n                    <>\r\n                        <Preloader content={'#'.repeat(20)} />\r\n                        <Preloader content={'#'.repeat(10)} />\r\n                        <Preloader content={'follow'} />\r\n                    </>\r\n                    :\r\n\r\n                    <>\r\n                        <NavLink to={linkPath}>\r\n                            <span className={s.userName}>{name}</span>\r\n                        </NavLink>\r\n                        <span>{status}</span>\r\n\r\n                        {followed ?\r\n                            <button\r\n                                disabled={isFollowingInProgress}\r\n                                onClick={() => { unfollow(id) }}\r\n                                className={\"inlineButton\"}>\r\n                                Unfollow\r\n                            </button>\r\n                            :\r\n                            <button\r\n                                disabled={isFollowingInProgress}\r\n                                onClick={() => { follow(id) }}\r\n                                className={\"inlineButton\"}>\r\n                                Follow\r\n                            </button>\r\n                        }\r\n                    </>\r\n                }\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default UserItem;\r\n","import { classNameFunction } from \"../../utils/classNameCompiler\";\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport s from \"./Users.module.css\";\r\nimport UserItem from \"./Usertem/UserItem\";\r\n\r\nconst cName = classNameFunction(s);\r\n\r\nconst Users = ({ onPageChange, currentPage, totalUsersCount, pageSize, users, isFetching, follow, unfollow }) => {\r\n    return (<main className={s.users}>\r\n        <div className={cName(['usersContainer', 'stdBlock'])}>\r\n            <header className={s.header}>\r\n                <span>All Users</span>\r\n                <Paginator onPageChange={onPageChange} currentPage={currentPage} totalUsersCount={totalUsersCount} pageSize={pageSize} />\r\n            </header>\r\n            <div className={s.usersList}>\r\n                {users.map(el => <UserItem key={el.id}\r\n                    {...el}\r\n                    isFetching={isFetching}\r\n                    follow={follow}\r\n                    unfollow={unfollow}\r\n                />\r\n                )}\r\n            </div>\r\n        </div>\r\n    </main>);\r\n};\r\n\r\nexport default Users;\r\n","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport {\r\n    follow,\r\n    getUsers,\r\n    unfollow,\r\n} from \"../../redux/usersReducer\";\r\nimport { getCurrentPageSelector, getIsFetchingSelector, getPageSizeSelector, getTotalUsersCountSelector, getUsersSelector } from '../../redux/usersSelector';\r\nimport Users from \"./Users\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.pageSize, this.props.currentPage);\r\n    }\r\n\r\n    onPageChange(pageNumber) {\r\n        this.props.getUsers(this.props.pageSize, pageNumber);\r\n    }\r\n\r\n    render() {\r\n        return <Users totalUsersCount={this.props.totalUsersCount}\r\n            currentPage={this.props.currentPage}\r\n            pageSize={this.props.pageSize}\r\n            users={this.props.users}\r\n            isFetching={this.props.isFetching}\r\n            onPageChange={this.onPageChange.bind(this)}\r\n            follow={this.props.follow}\r\n            unfollow={this.props.unfollow}\r\n        />\r\n    };\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSizeSelector(state),\r\n        totalUsersCount: getTotalUsersCountSelector(state),\r\n        currentPage: getCurrentPageSelector(state),\r\n        isFetching: getIsFetchingSelector(state),\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    connect(\r\n        mapStateToProps,\r\n        {\r\n            follow,\r\n            unfollow,\r\n            getUsers,\r\n        }\r\n    )\r\n)(UsersContainer);","import { classNameFunction } from \"../../../utils/classNameCompiler\";\r\nimport s from './Preloader.module.css';\r\n\r\nconst cName = classNameFunction(s);\r\n\r\nconst Preloader = ({ content, styles, classes, ...props }) => {\r\n    return <div style={styles} className={cName(['preloader'].concat(classes))}>\r\n        {content}\r\n    </div >\r\n}\r\n\r\nexport default Preloader;\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"preloader\":\"Preloader_preloader__br+S7\",\"gradient-move\":\"Preloader_gradient-move__QAPAx\"};"],"names":["getUsersSelector","state","users","getPageSizeSelector","createSelector","filter","user","followed","pageSize","getTotalUsersCountSelector","totalUsersCount","getCurrentPageSelector","currentPage","getIsFetchingSelector","isFetching","cName","classNameFunction","StartBarItem","_ref","onPageChange","_jsxs","_Fragment","children","_jsx","className","onClick","EndBarItem","_ref2","pagesCount","DefBarItems","_ref3","pages","map","el","isCurrent","_ref4","startGap","endGap","useMemo","getPagesBarUIInfo","maxPagesInMenu","curPage","Math","ceil","startInd","endInd","getStartEndIndexes","maxNumbersOnPage","delta","floor","i","push","id","photos","fullName","status","name","isFollowingInProgress","follow","unfollow","linkPath","s","Preloader","NavLink","to","src","small","defaultAvatar","alt","content","repeat","disabled","header","Paginator","usersList","UserItem","UsersContainer","React","componentDidMount","this","props","getUsers","pageNumber","render","Users","bind","compose","connect","styles","classes","style","concat"],"sourceRoot":""}